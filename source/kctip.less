// KCTip

@kctip_zIndex: 		100;
@kctip_fontColor: 	#f2f2f2;
//@kctip_bgColor: 	rgba(32,32,32,.9);
@kctip_bgColor: 	hsla( 51, 0%, 15%, .9 );
//@kctip_borderColor: rgba(255, 255, 255, .5);
@kctip_borderColor: #cec6a5;
@kctip_fontSize: 	14px;
@kctip_lineHeight: 	150%;
@kctip_maxWidth: 	320px;
@kctip_paddingV: 	8px;
@kctip_paddingH: 	10px;

@fontbase_hei: 		"Liberation Sans", "Microsoft YaHei UI", "Microsoft YaHei", "Hiragino Sans GB", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp";
@font_famliy_Hei:	"Helvetica Neue", Helvetica, "Nimbus Sans L", Arial, @fontbase_hei, "Meiryo" ,sans-serif;
@folder_images: 	"http://fleet.diablohu.com/!/assets/images";


.kctip{
	z-index:		@kctip_zIndex;
	position:		absolute;
	display:		none;
	top:			-1000px;
	left:			-1000px;
	color:			@kctip_fontColor;
	background:		@kctip_bgColor;
	font-size: 		@kctip_fontSize;
	line-height:	@kctip_lineHeight;
	opacity:		0;
	cursor:			default !important;
	transition: 	opacity .2s ease-out;
	user-select: 	none;
	pointer-events: none;
	box-shadow:		0 5px 5px rgba(0,0,0,0.35);
	max-width: 		@kctip_maxWidth;

	&>.wrapper{
		display:	block;
		position:	relative;
		z-index:	1;
		border: 	1px solid @kctip_borderColor;
		padding: 	@kctip_paddingV @kctip_paddingH;
	}

	&.mod-blur-backdrop{
		background:		fade(@kctip_bgColor, 50%);
		&>.wrapper{
			background:	fade(@kctip_bgColor, 50%);
		}
	}

	&.on{
		opacity:	1;
		&.mod-blur-backdrop{
			backdrop-filter: 	~"blur(7.5px)";
		}
	}
	&.show{
		display:	block;
		will-change:opacity;
	}

	&:before{
		position:	absolute;
		width:		0;
		height:		0;
		overflow:	hidden;
		content:	"";
		border: 	5px solid transparent;
	}
	
	.loading{
		padding: 	.25em .75em;
	}

	&[kctip-indicator-pos="bottom"]:before{
		@minus:	4px;
		border-top-color:	@kctip_borderColor;
		left:				50%;
		left:				~"calc(50% - @{minus})";
		bottom: 			-10px;
	}
	&[kctip-indicator-pos="bottom"]{
		box-shadow:		0 -5px 5px rgba(0,0,0,0.35);
	}
	&[kctip-indicator-pos="top"]:before{
		@minus:	4px;
		border-bottom-color:@kctip_borderColor;
		left:				50%;
		left:				~"calc(50% - @{minus})";
		top: 				-10px;
	}
	&[kctip-indicator-pos="left"]:before{
		@minus:	4px;
		border-right-color:	@kctip_borderColor;
		top:				50%;
		top:				~"calc(50% - @{minus})";
		left: 				-10px;
	}
	&[kctip-indicator-pos="right"]:before{
		@minus:	4px;
		border-left-color:	@kctip_borderColor;
		top:				50%;
		top:				~"calc(50% - @{minus})";
		right: 				-10px;
	}
	
	
	
	&[kctip-class="ships"]{
		@width_card:126px;
		min-width: 	320px;
		width: 		320px;
		max-width: 	none;
		&>.wrapper{
			padding: 	0 0 0 (@width_card + 2);
			overflow: 	hidden;
			min-height: 175px;
		}
		img{
			display: 	block;
			float: 		left;
			width: 		auto;
			height: 	auto;
			border: 	0;
			min-width: 	@width_card;
			max-width: 	@width_card;
			margin: 	1px 1px 1px (0 - @width_card - 1);
		}
		h3,h4{
			margin: 	0;
			overflow: 	hidden;
			padding: 	0 0 0 6px;
		}
		h3{
			height: 	34px;
			line-height:34px;
			font-size: 	22px;
			font-weight:lighter;
			background: #cec6a5;
			color: 		#594700;
			small{
				font-size: 	14px;
				padding: 	0 0 0 .5em;
				vertical-align: middle;
			}
		}
		h4{
			height: 	20px;
			line-height:20px;
			font-size: 	12px;
			font-weight:normal;
			background: #594700;
			color: 		#cec6a5;
			letter-spacing: -.025em;
			i{
				font-style: normal;
			}
			b{
				font-weight:normal;
				padding: 	0 .15em;
			}
		}
		dl{
			margin: 	0;
			line-height:19px;
			font-size: 	12px;
			position: 	relative;
			width: 		100%;
			//padding: 	4px 0 0 0;
			padding: 	3px 8px 0 8px;
			//border-left: 	6px solid transparent;
			//border-right: 	6px solid transparent;
			box-sizing: border-box;
			dt, dd{
				display: 	block;
				position: 	relative;
				margin: 	0;
				padding: 	0;
				float: 		left;
			}
			dt{
				max-width:	18%;
				padding-right: 6px;
				box-sizing: border-box;
			}
			dd{
				width: 		32%;
				font-size: 	13px;
				color: 		#fff2bf;
				font-weight:lighter;
				sup{
					display: 	inline-block;
					font-size: 	12px;
					transform: 	scale((10 / 12));
					transform-origin: 0 100%;
					margin: 	-100% -100% 0 0;
					padding-left: .35em;
					opacity: 	.75;
					//position: 	absolute;
					//top: 		-4px;
					//left: 		1.5em;
					//width: 		200%;
				}
				&:nth-child(4n+2){
					width: 	28%;
				}
				&:nth-child(4n+4){
					width: 	36%;
				}
			}
		}
	}
	
	
	
	&[kctip-class="equipments"]{
		@color1:	#e8dfc2;
		@color2:	#6b6836;
		h3{
			display:	block;
			position:	relative;
			padding-left: 42px;
			margin: 	0;
			&>s{
				display:	block;
				width: 		36px;
				height: 	36px;
				position:	absolute;
				top:		0;
				left:		0;
				background:	no-repeat 50% 50%;
			}
			&>strong{
				font-size: 	22px;
				line-height:22px;
				color: 		@color1;
				display:	block;
				position:	relative;
				font-weight:normal;
				padding: 	0 0 2px 0;
				small{
					padding-left: 	.35em;
					font-size: 		smaller;
				}
			}
			&>small{
				font-size: 	14px;
				font-weight:normal;
				color:		mix(@color1, @color2, 75%);
				display:	block;
				font-family:@font_famliy_Hei;
				padding:	0;
				line-height:14px;
				margin-top: 2px;
			}
			&~span{
				display:	block;
				&.requirement{
					padding-left: 	22px;
					background: 	no-repeat 0 50%;
					background-size:16px 16px;
					&.is-blueprint{
						background-image:	~"url(@{folder_images}/blueprint.png)";
					}
					&.is-catapult{
						background-image:	~"url(@{folder_images}/catapult.png)";
					}
				}
			}
			&+span{
				border-top: 	1px dashed mix(@color1, @color2, 75%);
				padding-top: 	8px;
				margin-top: 	10px;
				&.requirement{
					background-position-y: 	~"calc(50% + 4px)";
				}
			}
		}
	}
}
